\documentclass[conference]{IEEEtran}

% *** CITATION PACKAGES ***
%
%\usepackage{cite}
% cite.sty was written by Donald Arseneau
% V1.6 and later of IEEEtran pre-defines the format of the cite.sty package
% \cite{} output to follow that of the IEEE. Loading the cite package will
% result in citation numbers being automatically sorted and properly
% "compressed/ranged". e.g., [1], [9], [2], [7], [5], [6] without using
% cite.sty will become [1], [2], [5]--[7], [9] using cite.sty. cite.sty's
% \cite will automatically add leading space, if needed. Use cite.sty's
% noadjust option (cite.sty V3.8 and later) if you want to turn this off
% such as if a citation ever needs to be enclosed in parenthesis.
% cite.sty is already installed on most LaTeX systems. Be sure and use
% version 5.0 (2009-03-20) and later if using hyperref.sty.
% The latest version can be obtained at:
% http://www.ctan.org/pkg/cite
% The documentation is contained in the cite.sty file itself.




% *** GRAPHICS RELATED PACKAGES ***
%
\ifCLASSINFOpdf
  % \usepackage[pdftex]{graphicx}
  % declare the path(s) where your graphic files are
  % \graphicspath{{../pdf/}{../jpeg/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
  % \DeclareGraphicsExtensions{.pdf,.jpeg,.png}
\else
  % or other class option (dvipsone, dvipdf, if not using dvips). graphicx
  % will default to the driver specified in the system graphics.cfg if no
  % driver is specified.
  % \usepackage[dvips]{graphicx}
  % declare the path(s) where your graphic files are
  % \graphicspath{{../eps/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
  % \DeclareGraphicsExtensions{.eps}
\fi
% graphicx was written by David Carlisle and Sebastian Rahtz. It is
% required if you want graphics, photos, etc. graphicx.sty is already
% installed on most LaTeX systems. The latest version and documentation
% can be obtained at: 
% http://www.ctan.org/pkg/graphicx
% Another good source of documentation is "Using Imported Graphics in
% LaTeX2e" by Keith Reckdahl which can be found at:
% http://www.ctan.org/pkg/epslatex
%
% latex, and pdflatex in dvi mode, support graphics in encapsulated
% postscript (.eps) format. pdflatex in pdf mode supports graphics
% in .pdf, .jpeg, .png and .mps (metapost) formats. Users should ensure
% that all non-photo figures use a vector format (.eps, .pdf, .mps) and
% not a bitmapped formats (.jpeg, .png). The IEEE frowns on bitmapped formats
% which can result in "jaggedy"/blurry rendering of lines and letters as
% well as large increases in file sizes.
%
% You can find documentation about the pdfTeX application at:
% http://www.tug.org/applications/pdftex


% *** MATH PACKAGES ***
%
%\usepackage{amsmath}
% A popular package from the American Mathematical Society that provides
% many useful and powerful commands for dealing with mathematics.
%
% Note that the amsmath package sets \interdisplaylinepenalty to 10000
% thus preventing page breaks from occurring within multiline equations. Use:
%\interdisplaylinepenalty=2500
% after loading amsmath to restore such page breaks as IEEEtran.cls normally
% does. amsmath.sty is already installed on most LaTeX systems. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/pkg/amsmath


% *** SPECIALIZED LIST PACKAGES ***
%
%\usepackage{algorithmic}
% algorithmic.sty was written by Peter Williams and Rogerio Brito.
% This package provides an algorithmic environment fo describing algorithms.
% You can use the algorithmic environment in-text or within a figure
% environment to provide for a floating algorithm. Do NOT use the algorithm
% floating environment provided by algorithm.sty (by the same authors) or
% algorithm2e.sty (by Christophe Fiorio) as the IEEE does not use dedicated
% algorithm float types and packages that provide these will not provide
% correct IEEE style captions. The latest version and documentation of
% algorithmic.sty can be obtained at:
% http://www.ctan.org/pkg/algorithms
% Also of interest may be the (relatively newer and more customizable)
% algorithmicx.sty package by Szasz Janos:
% http://www.ctan.org/pkg/algorithmicx


% *** ALIGNMENT PACKAGES ***
%
%\usepackage{array}
% Frank Mittelbach's and David Carlisle's array.sty patches and improves
% the standard LaTeX2e array and tabular environments to provide better
% appearance and additional user controls. As the default LaTeX2e table
% generation code is lacking to the point of almost being broken with
% respect to the quality of the end results, all users are strongly
% advised to use an enhanced (at the very least that provided by array.sty)
% set of table tools. array.sty is already installed on most systems. The
% latest version and documentation can be obtained at:
% http://www.ctan.org/pkg/array


% IEEEtran contains the IEEEeqnarray family of commands that can be used to
% generate multiline equations as well as matrices, tables, etc., of high
% quality.


% *** SUBFIGURE PACKAGES ***
%\ifCLASSOPTIONcompsoc
%  \usepackage[caption=false,font=normalsize,labelfont=sf,textfont=sf]{subfig}
%\else
%  \usepackage[caption=false,font=footnotesize]{subfig}
%\fi
% subfig.sty, written by Steven Douglas Cochran, is the modern replacement
% for subfigure.sty, the latter of which is no longer maintained and is
% incompatible with some LaTeX packages including fixltx2e. However,
% subfig.sty requires and automatically loads Axel Sommerfeldt's caption.sty
% which will override IEEEtran.cls' handling of captions and this will result
% in non-IEEE style figure/table captions. To prevent this problem, be sure
% and invoke subfig.sty's "caption=false" package option (available since
% subfig.sty version 1.3, 2005/06/28) as this is will preserve IEEEtran.cls
% handling of captions.
% Note that the Computer Society format requires a larger sans serif font
% than the serif footnote size font used in traditional IEEE formatting
% and thus the need to invoke different subfig.sty package options depending
% on whether compsoc mode has been enabled.
%
% The latest version and documentation of subfig.sty can be obtained at:
% http://www.ctan.org/pkg/subfig




% *** FLOAT PACKAGES ***
%
%\usepackage{fixltx2e}
% fixltx2e, the successor to the earlier fix2col.sty, was written by
% Frank Mittelbach and David Carlisle. This package corrects a few problems
% in the LaTeX2e kernel, the most notable of which is that in current
% LaTeX2e releases, the ordering of single and double column floats is not
% guaranteed to be preserved. Thus, an unpatched LaTeX2e can allow a
% single column figure to be placed prior to an earlier double column
% figure.
% Be aware that LaTeX2e kernels dated 2015 and later have fixltx2e.sty's
% corrections already built into the system in which case a warning will
% be issued if an attempt is made to load fixltx2e.sty as it is no longer
% needed.
% The latest version and documentation can be found at:
% http://www.ctan.org/pkg/fixltx2e


%\usepackage{stfloats}
% stfloats.sty was written by Sigitas Tolusis. This package gives LaTeX2e
% the ability to do double column floats at the bottom of the page as well
% as the top. (e.g., "\begin{figure*}[!b]" is not normally possible in
% LaTeX2e). It also provides a command:
%\fnbelowfloat
% to enable the placement of footnotes below bottom floats (the standard
% LaTeX2e kernel puts them above bottom floats). This is an invasive package
% which rewrites many portions of the LaTeX2e float routines. It may not work
% with other packages that modify the LaTeX2e float routines. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/pkg/stfloats
% Do not use the stfloats baselinefloat ability as the IEEE does not allow
% \baselineskip to stretch. Authors submitting work to the IEEE should note
% that the IEEE rarely uses double column equations and that authors should try
% to avoid such use. Do not be tempted to use the cuted.sty or midfloat.sty
% packages (also by Sigitas Tolusis) as the IEEE does not format its papers in
% such ways.
% Do not attempt to use stfloats with fixltx2e as they are incompatible.
% Instead, use Morten Hogholm'a dblfloatfix which combines the features
% of both fixltx2e and stfloats:
%
% \usepackage{dblfloatfix}
% The latest version can be found at:
% http://www.ctan.org/pkg/dblfloatfix




% *** PDF, URL AND HYPERLINK PACKAGES ***
%
%\usepackage{url}
% url.sty was written by Donald Arseneau. It provides better support for
% handling and breaking URLs. url.sty is already installed on most LaTeX
% systems. The latest version and documentation can be obtained at:
% http://www.ctan.org/pkg/url
% Basically, \url{my_url_here}.




% *** Do not adjust lengths that control margins, column widths, etc. ***
% *** Do not use packages that alter fonts (such as pslatex).         ***
% There should be no need to do such things with IEEEtran.cls V1.6 and later.
% (Unless specifically asked to do so by the journal or conference you plan
% to submit to, of course. )


% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}


\begin{document}
%
% paper title
% Titles are generally capitalized except for words such as a, an, and, as,
% at, but, by, for, in, nor, of, on, or, the, to and up, which are usually
% not capitalized unless they are the first or last word of the title.
% Linebreaks \\ can be used within to get better formatting as desired.
% Do not put math or special symbols in the title.
\title{Stationery LIDAR Sensors for Indoor Quadcopter Localization }


% author names and affiliations
% use a multiple column layout for up to three different
% affiliations
\author{
\IEEEauthorblockN{Marcell Rausch, Gabor Feher}
\IEEEauthorblockA{Department of Telecommunication and Media Informatics\\
Budapest University of Technology and Economics, Budapest, Hungary}
}

% conference papers do not typically use \thanks and this command
% is locked out in conference mode. If really needed, such as for
% the acknowledgment of grants, issue a \IEEEoverridecommandlockouts
% after \documentclass

% for over three affiliations, or if they all won't fit within the width
% of the page, use this alternative format:
% 
%\author{\IEEEauthorblockN{Michael Shell\IEEEauthorrefmark{1},
%Homer Simpson\IEEEauthorrefmark{2},
%James Kirk\IEEEauthorrefmark{3}, 
%Montgomery Scott\IEEEauthorrefmark{3} and
%Eldon Tyrell\IEEEauthorrefmark{4}}
%\IEEEauthorblockA{\IEEEauthorrefmark{1}School of Electrical and Computer Engineering\\
%Georgia Institute of Technology,
%Atlanta, Georgia 30332--0250\\ Email: see http://www.michaelshell.org/contact.html}
%\IEEEauthorblockA{\IEEEauthorrefmark{2}Twentieth Century Fox, Springfield, USA\\
%Email: homer@thesimpsons.com}
%\IEEEauthorblockA{\IEEEauthorrefmark{3}Starfleet Academy, San Francisco, California 96678-2391\\
%Telephone: (800) 555--1212, Fax: (888) 555--1212}
%\IEEEauthorblockA{\IEEEauthorrefmark{4}Tyrell Inc., 123 Replicant Street, Los Angeles, California 90210--4321}}




% use for special paper notices
%\IEEEspecialpapernotice{(Invited Paper)}




% make the title area
\maketitle

% As a general rule, do not put math, special symbols or citations
% in the abstract
\begin{abstract}
The abstract goes here.
\end{abstract}

% no keywords


% For peer review papers, you can put extra information on the cover
% page as needed:
% \ifCLASSOPTIONpeerreview
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
% \fi
%
% For peerreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle



\section{Introduction}
% no \IEEEPARstart
A prerequisite for future expansion of mobile robots is the ability to navigate autonomously and safely in their ever-changing environment without collisions. Simultaneous Localization And Mapping (SLAM) algorithms discover the surroundings, create a map and localize the robot in the map with the help of a sensor that can sense the environment. In an indoor scenario, this sensor is often the Light Detection and Ranging (LIDAR) sensor. 

There are many papers about SLAM and LIDAR sensors that are building highly accurate maps of building interiors or even outdoors and as a byproduct the relative position becomes more accurate as well. (references!) However, they are using precise, long range rotating planner scanners, which can be carried by large industrial-grade hexacopter and octocopter only, and due to their weight, they are not suitable for smaller quadcopters. Other frequent choice for drones are multiple cameras and image processing. The issue here is the rather intense computation demand, which is hard to satisfy on a small quadcopter with limited power supply. Instead, the localization sensor solution could be lightweight stationary LIDAR sensors placed around the quadcopter. This solution might also provide a cheap and computationally light alternative to other sensors. The selected single-point sensors need to be placed on a drone in a layout that offers an optimal scan of the environment. 

In this paper, an evaluation of a SLAM system is introduced, relying on real measurement data. The system uses stationary LIDAR sensors placed on a simulated quadcopter to acquire distance measurements from its environment and uses SLAM technique to map its surrounding, estimate its position, and produce an indoor map. Multiple sensor setups were evaluated with different number of sensors in order to find the optimal number of the sensors to achieve the balance between accuracy and simplicity. 

The evaluation used VL53L1X LIDAR sensors produced by STMicroelectronics, which are small size, low weight, low energy, yet capable time of flight (TOF) sensors. The selected SLAM algorithm was the Cartographer SLAM, which is a freely available  professional solution used by projects like Google Street View. 

% An example of a floating figure using the graphicx package.
% Note that \label must occur AFTER (or within) \caption.
% For figures, \caption should occur after the \includegraphics.
% Note that IEEEtran v1.7 and later has special internal code that
% is designed to preserve the operation of \label within \caption
% even when the captionsoff option is in effect. However, because
% of issues like this, it may be the safest practice to put all your
% \label just after \caption rather than within \caption{}.
%
% Reminder: the "draftcls" or "draftclsnofoot", not "draft", class
% option should be used if it is desired that the figures are to be
% displayed while in draft mode.
%
%\begin{figure}[!t]
%\centering
%\includegraphics[width=2.5in]{myfigure}
% where an .eps filename suffix will be assumed under latex, 
% and a .pdf suffix will be assumed for pdflatex; or what has been declared
% via \DeclareGraphicsExtensions.
%\caption{Simulation results for the network.}
%\label{fig_sim}
%\end{figure}

% Note that the IEEE typically puts floats only at the top, even when this
% results in a large percentage of a column being occupied by floats.


% An example of a double column floating figure using two subfigures.
% (The subfig.sty package must be loaded for this to work.)
% The subfigure \label commands are set within each subfloat command,
% and the \label for the overall figure must come after \caption.
% \hfil is used as a separator to get equal spacing.
% Watch out that the combined width of all the subfigures on a 
% line do not exceed the text width or a line break will occur.
%
%\begin{figure*}[!t]
%\centering
%\subfloat[Case I]{\includegraphics[width=2.5in]{box}%
%\label{fig_first_case}}
%\hfil
%\subfloat[Case II]{\includegraphics[width=2.5in]{box}%
%\label{fig_second_case}}
%\caption{Simulation results for the network.}
%\label{fig_sim}
%\end{figure*}
%
% Note that often IEEE papers with subfigures do not employ subfigure
% captions (using the optional argument to \subfloat[]), but instead will
% reference/describe all of them (a), (b), etc., within the main caption.
% Be aware that for subfig.sty to generate the (a), (b), etc., subfigure
% labels, the optional argument to \subfloat must be present. If a
% subcaption is not desired, just leave its contents blank,
% e.g., \subfloat[].


% An example of a floating table. Note that, for IEEE style tables, the
% \caption command should come BEFORE the table and, given that table
% captions serve much like titles, are usually capitalized except for words
% such as a, an, and, as, at, but, by, for, in, nor, of, on, or, the, to
% and up, which are usually not capitalized unless they are the first or
% last word of the caption. Table text will default to \footnotesize as
% the IEEE normally uses this smaller font for tables.
% The \label must come after \caption as always.
%
%\begin{table}[!t]
%% increase table row spacing, adjust to taste
%\renewcommand{\arraystretch}{1.3}
% if using array.sty, it might be a good idea to tweak the value of
% \extrarowheight as needed to properly center the text within the cells
%\caption{An Example of a Table}
%\label{table_example}
%\centering
%% Some packages, such as MDW tools, offer better commands for making tables
%% than the plain LaTeX2e tabular which is used here.
%\begin{tabular}{|c||c|}
%\hline
%One & Two\\
%\hline
%Three & Four\\
%\hline
%\end{tabular}
%\end{table}


% Note that the IEEE does not put floats in the very first column
% - or typically anywhere on the first page for that matter. Also,
% in-text middle ("here") positioning is typically not used, but it
% is allowed and encouraged for Computer Society conferences (but
% not Computer Society journals). Most IEEE journals/conferences use
% top floats exclusively. 
% Note that, LaTeX2e, unlike IEEE journals/conferences, places
% footnotes above bottom floats. This can be corrected via the
% \fnbelowfloat command of the stfloats package.




\section{Ranging sensor-based SLAM}
Cameras are cheap, popular but they demand high processing capabilities. In contrast, ranging sensor-based approaches produce a lower amount of data and thus they are less resource intensive. 

Ultrasonic sensors have been used for distance measurements for many years, but they suffer from significant measurement noise. LIDAR sensors on the other hand uses light to measure distance, offer more accurate measurements, typically lower form factor, higher resolution, and update rates. A planar laser scanner is a LIDAR sensor that is extended to make distance measurements in 2D. Typically it is used for scanning the horizontal plane. Usually, the scanning is solved by rotating a LIDAR sensor in 360 degree while it is making measurements evenly distributed on the plane. Planar scanners are good for building floor maps and navigating in indoor environments. Some scanners are further extended for 3D scanning. 

\subsection{Available quadcopter modules}

TeraBee offers an off-the-shelf solid-state LIDAR system with the purpose of collision avoidance for drones, called Terabee TeraRanger Tower. In this solution, 8 sensors are evenly distributed around the vertical axis with a controller board in the middle. Each block of the array is a standalone LIDAR sensor, that can be used separately and supports different mount configurations. The company offers a long-range and fast-ranging version of these sensors and depending on the type an update rate of 320 Hz can be achieved. 

Another company Bitcraze has developed a mini quadcopter mainly for educational purposes. The Crazyflie 2.1 drone measures only 92x92mm with a height of 29mm and weighs 27g. Extra sensors and peripherals can be attached to the top of the quadcopter using extension boards. The Multi-ranger deck extension board has 5 VL53L1X sensors facing forwards, backward, left, right, and up. This project is similar to the product of Terabee described but in a smaller size factor and with a significantly lower weight. The company provided no information of the SLAM algorithm used or from the quality of the map.

\section{The VL53L1X LIDAR sensor}

VL53L1X is described as a long-distance ranging Time-of-Flight sensor by STMicroelectronics \cite{VL53L1XDatasheet}. The size of the module is 4.9x2.5x1.56mm, it emits 940nm invisible laser and uses a single-photon avalanche diode (SPAD) receiving array with a field of view of 27 degree. The module runs all the digital signal processing on a built-in low power microcontroller that frees up the host processor from these tasks. According to the datasheet, the sensor is capable of 50Hz ranging frequency and up to 400cm distance measurements. The size of the laser receiving array can be programmatically changed by setting the region-of-interest(ROI) size. This way the sensor provides multizone operation and higher resolution. 

In order to simulate the VL53L1X sensors accurately a set of parameters, capabilities, and limitations of the sensor was measured. Average distance, standard deviation, sampling rate, and typical range status were analyzed, while the timing budget, resolution, and distance preset parameters were changed. This LIDAR sensor has an adjustable timing budget from 18.5ms all the way to 1 second, which determines the maximum time a ranging operation can take. To see the effect of the timing budget with different ROI setups and distance modes, 4 timing budgets have been selected. 

With an 18.5ms budget, the sensor operates on the highest possible measurement frequency of 50Hz. This is limited to a  short distance mode without the possibility of modifying the ROI. The second selected budget was 33ms, which is the lowest possible value to be used with long-distance preset. Next, 140ms is the lowest value that can provide measurements up to 4 meters. Lastly, the 200ms budget was selected to test higher timing budget impact on accuracy. It is also the value used in the VL53L1X datasheet\cite{VL53L1XDatasheet} to demonstrate ranging accuracy. 

Based on the completed measurements, it can be seen that sampling time is independent of the distance preset in use and is directly proportional to the number of ROIs in a scan and the timing budget. On each tested scenarios, the most accurate measurement was always with resolution 1x1. By increasing the resolution, therefore lowering the receiver SPAD array size, the measured distance starts to deviate from the real distance, and standard deviation (STD) increases. This can be seen at 2.5m distance with medium preset. Long-distance preset however produces more accurate measurements even on 3m, so it is preferred over medium preset. Measurements with long-distance preset and 140ms timing budget follow the real distances even on 3 meters but start to deviate at 3.5 meters with 2x2-resolution and above. Raising the timing budget to 200ms reduces the error and standard deviation, but doesn't eliminate completely. 

18.5ms timing budget with short distance preset can produce the fastest ranging measurements up to 1.6m according to the datasheet. The short preset also has the best ambient light immunity, a favorable quality. Surprisingly, in the tests, the sensor with these settings was able to measure up to 2m with 7mm standard deviation only. Above 2m no ranges were successful. Compared to other presets, the sampling time for each resolution decreased significantly. In the case of 4x4-resolution, the sampling time has decreased from 390ms to 265ms and the maximum distance decreased from 2.5m to about 1m. The increase in the update rate might be beneficial for the SLAM algorithm. 

\section{2D SLAM evaluation}

 The fair way to compare the performance of the SLAM algortihm with different LIDAR layouts is to use the same dataset for every setup. For this reason, there were simulated LIDAR scanners on the top and bottom of the drone that evenly scanned the top and bottom hemispheres. The complete scan cover the whole sphere around the drone with ranges evenly distributed along all axes, capable of even 3D SLAM evaluation. The drone was flown around inside a simulated building with corridors, doors, windows, small and big rooms, while all sensor data was recorded. Later, the recorded data was filtered according to the given sensor configuration and  played back to the SLAM algorithm for map creation and pose-estimation to the evaluation. Cartographer also used the IMU data as an initial guess for the pose and the accelerometer to determine the direction of gravity. In the  evaluation the RMS error was calculated between the trajectory calculated by the SLAM and the ground-truth trajectory, which was provided by the simulator. The total length of the recorded flight was 144 seconds. The LIDAR distance measurements were published  on 30Hz each and IMU data was published on 50Hz. 

The LIDAR parameters were changed incrementally one by one. In the first simulation unfiltered range data was used, which had the maximum possible sampling rate, 4m maximum distance, and 128x128-resolution in a total of the top and bottom hemispheres. This produced the most accurate map and localization estimates, compared to the other down-sampled dataset. Second, the effect of the LIDAR resolution was tested. The initial measurements were filtered as if 13 LIDAR sensors would have been placed evenly on the horizontal axis, covering the full 360 degree. The resolution of the sensors were set to 4x4, 3x3, 2x2 and 1x1. To simulate the behavior of VL53L1X, ranges inside the sensor's field of view were averaged. This filtering caused artifacts like curved corners and transition points that occured when an object was only partly in the field of view and another distant object covered the rest of the ranging. These smooth transitions hide the sharp edges of walls, making it harder to insert points and to find loop-closures. Third, the resolution with the best performance from the second step was used with various sampling rates of the actual sensor. Forth, the maximum distance was lowered to realistic, while keeping the same layout of the sensors. Finally, the number of sensors was reduced until the lowest number, where the setup was still capable of producing a decent quality map. 

\subsection{Effects of LIDAR resolution}

First, unfiltered data ranges with maximum rate and distance were used. Because there was no noise at all, even without a global SLAM, a decent quality map could be built. The extracted trajectory closely followed the ground truth trajectory. The RMS error on the x- was 6.3cm and a bit less 6.5cm on the y-axis, resulting in a cumulated 12.8cm <<<????>>>> RMS error. 

\subsubsection{4x4-resolution}

In this scenario the filter selected 4 times 52 points around the quadcopter in 4 rows. This scenario had many artifacts and transition points, still, the estimated trajectory followed accurately the ground-truth trajectory. There were no constant offsets on neither axes. The RMS error of this setup was only 6cm more than the error of unfiltered data. The RMS error was 8.12cm on the x- and 10.48cm on the y-axis, resulting in a cumulated error of 18.6cm. 

\subsubsection{3x3-resolution}

As the resolution is lowered to 3x3, the field of view of each region of interest had broadened. This caused the artifacts coming from averaging to be more significant. The number of ranges per scan was also lowered, so the ratio of transition points and wall hits increased heavily impacting the performance of the SLAM. Tuning on the SLAM algorithm helped to produce a decent quality map. The global SLAM was able to compensate drifting submaps. Although the mapping accuracy was reduced along the reduced sensor resolution, the localization accuracy had increased. The cumulated RMS error for this setup was 11.34cm. The RMS error on the x- was 4.04cm and on the y-axis it was 7.3cm. The accuracy of this setup is the result of the  better SLAM parameter tuning. 

\subsubsection{2x2 and 1x1 resolutions}

Compared to the 3x3-resolution, these scenario contains relevantly fewer points, which makes scan matching significantly less efficient. Tuning of this setup was noticeably harder and the quality of the produced map was highly decreased. The grid resolution of the map should be reduced to low resolution. While the configuration with a high-resolution grid map was able to follow the ground-truth trajectory in small rooms and the narrow corridor, it lost track in the big and spacious room, when the ranges were far apart. 

In the case of the 2x2-resolution, the high-resolution trajectory was at some points as far as 1.4m from the ground-truth pose, but the cumulated RMS error was only 43.4cm. This shows that a seemingly small difference in RMS error can mean an error of more than a meter at a part of the trajectory. The low-resolution trajectory in comparison has a cumulated RMS error of 22.13cm. 7.95cm error on the x- and 14.17cm on the y-axis. The 1x1-resolution scenario did not produce any usable map or localization. 

These scenarios were unusable for the SLAM, so they were  not tested further.  

\subsection{Effects of sampling rate}

For the 4x4-resolution 400ms sampling time was chosen, based on the real sensor measurements. The timing budget of 33ms was selected over the 18.5ms because it has a lower sampling rate. The dropped sampling rate from 30Hz to 2.5Hz was significant and made the tuning much harder. Two different grid resolution were tested as well. The quality of the map was decent in both cases, no major flaws were visible. The global SLAM had to compensate rotation drifts, that occurred when the drone turned around in the big room. Low grid resolution produced a smoother path, while on high-resolution grid there were some edges and sharper turns. In general, the configuration with a higher grid resolution felt very unstable. 

The cumulated RMS error on a high grid resolution was 16.49cm, on low grid resolution it was higher: 18.95cm. Higher grid-resolution results in greater accuracy in position estimates, but its stability is lower in comparison to lower resolution. 

As for the 3x3-resolution, the same timing budget was chosen, but this setup has a better sampling time of 220ms compared to the previous 400ms. This results in an 80\% increase in update rate to 4.5Hz, which also means almost twice more often pose updates. Lowering the grid resolution was necessary here as well. The map quality was adequate, global SLAM almost hasn't done any corrections. The cumulated RMS error was 14.67cm, 6.4cm on the x-axis, and 8.2 on the y-axis. Because of stability and accuracy, 3x3-resolution seems like a better resolution for Cartographer SLAM. 

\subsection{Effects of maximum distance}

The VL53L1X sensor measurements showed that each setup works accurately until 2.5m and each has about 25cm drift at a distance of 3m. This way 2.75m as maximum distance was chosen for the tests. The lowered maximum distance had a positive effect, that the number of transition points has been reduced. Because of the shorter distance the field of view  could not open as wide as it could before. The downside of the limited range is that the algorithm loses track in the bigger spaces. This caused more flaws and a small tilt can be observed.  The trajectory using sensors with 3x3-resolution has a significant offset on the y-axis, which was picked up due to less reference points. Similar scans were pulled together, resulting in a shortened corridor. The trajectory using the setup with 4x4-resolution sensors has a smaller offset. It seems like with more points per scan the SLAM algorithm was able to pick up small details and better track the movement of the drone on this mostly even corridor. On the other hand, it failed in the big room, where the same situation appeard. 

The cumulated RMS error for 3x3-resolution is 45cm and 49.6cm for 4x4. In the end the mostly constant offset with otherwise correct shape results in a smaller error, than the pose estimation that follows ground-truth closely but failed in shape at a relatively small area. 

\subsection{Reduced set of evenly distributed LIDAR sensors}

In this test, the goal was to find the minimum number of LIDAR sensors, with which the SLAM algorithm still works reliably and can produce a coherent map. The sensors were set to 4x4 and 3x3-resolution, 400ms update rate and 2.75m as maximum distance. The tuning of the algorithm proved to be significantly harder this time. Testing multiple setups, finally 8 sensors were successful in the case of 4x4-resolution sensors. The RMS cumulated error was 34.1cm. The 3x3-resolution failed. Therefore this setup is assumed to be the lowest number of VL53L1X sensors, that is still able to produce consistent maps with Cartographer SLAM in 2D mode. 

\section{Conclusion}

% conference papers do not normally have an appendix


% use section* for acknowledgment
\section*{Acknowledgment}

The authors would like to thank...


% trigger a \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
%\IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

% references section

% can use a bibliography generated by BibTeX as a .bbl file
% BibTeX documentation can be easily obtained at:
% http://mirror.ctan.org/biblio/bibtex/contrib/doc/
% The IEEEtran BibTeX style support page is at:
% http://www.michaelshell.org/tex/ieeetran/bibtex/
\bibliography{biblio}
\bibliographystyle{IEEEtran}
% argument is your BibTeX string definitions and bibliography database(s)
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)
% \begin{thebibliography}{1}
% \end{thebibliography}


% that's all folks
\end{document}


